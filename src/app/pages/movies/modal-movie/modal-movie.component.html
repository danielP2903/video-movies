<div>
  <h1 class="p-4">Añade una nueva película</h1>
  <hr>
  <div class="container p-4">
    <form [formGroup]="formMovie">
      <div class="col">
        <div>
          <label for="formGroupExampleInput">Nombre</label>
          <input
          type="text"
          class="form-control"
          id="formGroupExampleInput"
          placeholder="Ingrese el nombre de la película"
          formControlName="name">
          <div *ngIf="isInvalidControl('name')" class="text-danger">
            <div>{{ getMessageErrorForm('name') }}</div>
          </div>
        </div>
        <div>
          <label for="inputState" class="form-label">Categoria</label>
          <select id="inputState"class="form-select" formControlName="category">
            <option selected>Elige una categoría</option>
            <option [disabled]="categories.length === 0" selected *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
          </select>
          <div *ngIf="isInvalidControl('category')" class="text-danger">
            <div>{{ getMessageErrorForm('category') }}</div>
          </div>
            </div>

              <div >
                <label for="inputState" class="form-label">Fecha Lanzamiento</label>
                <input
                class="form-control"
                placeholder="yyyy-mm-dd"
                name="dp"
                ngbDatepicker
                #d="ngbDatepicker"
                formControlName="year"
                />
                <button class="btn btn-outline-secondary bi bi-calendar3" (click)="d.toggle()" type="button"></button>
                <div *ngIf="isInvalidControl('year')" class="text-danger">
                  <div>{{ getMessageErrorForm('year') }}</div>
                </div>
              </div>

              <div>
                <label for="formGroupExampleInput">Precio</label>
                <input
                type="text"
                class="form-control"
                id="formGroupExampleInput"
                oninput="this.value = this.value.toUpperCase()"
                placeholder="Ingrese el precio de la película"
                formControlName="price" >
                <div *ngIf="isInvalidControl('price')" class="text-danger">
                  <div>{{ getMessageErrorForm('price') }}</div>
                </div>
              </div>

              <div>
                <label for="formGroupExampleInput">Stock</label>
                <input
                type="number"
                class="form-control"
                id="formGroupExampleInput"
                oninput="this.value = this.value.toUpperCase()"
                placeholder="Ingrese el stock disponible"
                formControlName="stock">
                <div *ngIf="isInvalidControl('stock')" class="text-danger">
                  <div>{{ getMessageErrorForm('stock') }}</div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="d-flex flex-row justify-content-end p-4 gap-3">
          <button class="btn  btn-lg bi bi-backspace btn-cancel" (click)="closeModal()" >Cancelar</button>
          <button class="btn btn-primary-color btn-lg bi bi-save-fill" (click)="saveMovie()" [disabled]="formMovie.invalid" >Guardar</button>
        </div>
      </div>
      <app-toast-container></app-toast-container>
